<% provide(:title, "#{@event.name} Psych Sheet for #{@competition.name}") %>

<%= render layout: "nav", locals: { fluid: true } do %>
  <%= wca_table_for @registrations, extra_table_class: "wca-results-sort-by-#{@event.sort_by.to_s}" do |table| %>
    <%= table.column :position %>
    <%= table.column :name %>
    <%= table.column :wca_id %>
    <%= table.column :countryId %>
    <%= table.column :average do |registration| %>
      <%= registration.best_solve(@event, :average).clock_format %>
    <% end %>
    <%= table.column :world_rank_average, header: "WR" do |registration| %>
      <%= registration.world_rank(@event, :average) %>
    <% end %>
    <% table.column :single do |registration| %>
      <%= registration.best_solve(@event, :single).clock_format %>
    <% end %>
    <% table.column :world_rank_single, header: "WR" do |registration| %>
      <%= registration.world_rank(@event, :single) %>
    <% end %>
  <% end %>
<% end %>
